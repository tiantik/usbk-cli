/*
 * @file usbk_scsi.h
 *
 * Copyright (C) 2009, 2010
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * See http://www.gnu.org/licenses/ for more information
 *
 ****************************************************************************
 *
 */

// SCSI CMD DIRECTION
#define WRITE_SCSI 		     OUTDIR
#define READ_SCSI		     INDIR

// SCSI CMD TYPES
#define GET_STATUS  	     0x01
#define GET_DEV_INFO	     0x02
#define ACTIVATE_KEY   	     0x03
#define DEACTIVATE_KEY 	     0x04
#define CHANGE_PASS  	     0x05
#define SET_DEV_NAME	     0x06
#define SET_AUTO_ACTIVE	     0x07
#define SET_KEY			     0x08
#define GENERATE_KEY	     0x09
#define GET_PUBLIC_KEY	     0x0A
#define EXIT    		     0x30

#ifdef _USBK_SCSI_H

#include "general.h"
#include "usbk_sg_ctl.h"

st_cmd scsi_cmd[][10] = {
		{0xFE, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 0 GET_STATUS
        {0xFE, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 1 GET_DEV_INFO
        {0xFE, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 2
        {0xFE, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 3
        {0xFE, 0x00, 0x05, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 4
        {0xFE, 0x00, 0x06, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 5
        {0xFE, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 6
        {0xFE, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 7
        {0xFE, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 8
        {0xFE, 0x00, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00}, // 9
};

int send_scsi_command(t_usbk *usbk, unsigned char *buff, int cmd_index, int len, char rw);

#else

extern st_cmd scsi_cmd[][10];

extern int send_scsi_command(t_usbk *usbk, unsigned char *buff, int cmd_index, int len, char rw);


#endif
